<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cargnin - Categorias</title>
    <link rel="manifest" href="/static/manifest.json">
    <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
    <style>
        :root {
            --primary: #2e7d32;
            --agri: #4caf50;
            --pecu: #795548;
            --maq: #455a64;
            --estq: #f57c00;
            --bg: #eceff1;
            --white: #ffffff;
        }

        body { font-family: sans-serif; background: var(--bg); margin: 0; padding: 15px; color: #333; }
        
        /* Status de ConexÃ£o */
        .status-header {
            display: flex; justify-content: space-between; align-items: center;
            background: var(--white); padding: 10px 15px; border-radius: 10px; margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .dot { height: 10px; width: 10px; border-radius: 50%; display: inline-block; margin-right: 5px; }
        .online-dot { background: #4caf50; }
        .offline-dot { background: #f44336; }

        .category-section { margin-bottom: 25px; }
        .category-title { 
            font-size: 18px; font-weight: bold; margin-bottom: 10px; 
            display: flex; align-items: center; gap: 10px;
            color: #444; border-bottom: 2px solid #ddd; padding-bottom: 5px;
        }

        .grid-forms { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

        .form-card {
            background: var(--white); padding: 15px; border-radius: 12px;
            text-decoration: none; color: #333; text-align: center;
            box-shadow: 0 3px 6px rgba(0,0,0,0.08);
            display: flex; flex-direction: column; align-items: center;
            transition: transform 0.1s; border-bottom: 4px solid #ddd;
        }
        .form-card:active { transform: scale(0.95); }

        /* Cores por Categoria */
        .border-agri { border-bottom-color: var(--agri); }
        .border-pecu { border-bottom-color: var(--pecu); }
        .border-maq { border-bottom-color: var(--maq); }
        .border-estq { border-bottom-color: var(--estq); }

        .icon { font-size: 28px; margin-bottom: 5px; }
        .form-card span { font-size: 13px; font-weight: 600; }

        .sync-footer {
            position: fixed; bottom: 0; left: 0; right: 0;
            background: var(--white); padding: 15px;
            display: flex; justify-content: space-around;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }
        .btn-nav { text-decoration: none; font-weight: bold; color: var(--primary); font-size: 14px; }
    </style>
</head>
<body>

    <div class="status-header">
        <span><strong>Cargnin GestÃ£o</strong></span>
        <div id="connection-status">
            <span class="dot online-dot"></span><small id="status-text">Online</small>
        </div>
    </div>

    <div class="category-section">
        <div class="category-title">ğŸŒ¿ Agricultura</div>
        <div class="grid-forms">
            <a href="/coleta/planta" class="form-card border-agri"><div class="icon">ğŸŒ±</div><span>Plantaio</span></a>
            <a href="/coleta/aplicacao" class="form-card border-agri"><div class="icon">ğŸšœ</div><span>AplicaÃ§Ã£o</span></a>
            <a href="/coleta/colheita" class="form-card border-agri"><div class="icon">ğŸŒ¾</div><span>Colheita</span></a>
            <a href="/coleta/pluviometro" class="form-card border-agri"><div class="icon">ğŸŒ§ï¸</div><span>PluviÃ´metro</span></a>
            <a href="/coleta/manutencao-area" class="form-card border-agri"><div class="icon">ğŸªµ</div><span>Mato / Lavoura</span></a>
            <a href="/coleta/mao-obra-agri" class="form-card border-agri"><div class="icon">ğŸ‘·</div><span>MÃ£o de Obra</span></a>
        </div>
    </div>

    <div class="category-section">
        <div class="category-title">ğŸ‚ PecuÃ¡ria</div>
        <div class="grid-forms">
            <a href="/coleta/animais-compra" class="form-card border-pecu"><div class="icon">ğŸ’°</div><span>Compra</span></a>
            <a href="/coleta/animais-venda" class="form-card border-pecu"><div class="icon">ğŸš›</div><span>Venda</span></a>
            <a href="/coleta/insumos-pecu" class="form-card border-pecu"><div class="icon">ğŸ§ª</div><span>Insumos/Vacina</span></a>
            <a href="/coleta/mao-obra-pecu" class="form-card border-pecu"><div class="icon">ğŸ¤ </div><span>MÃ£o de Obra</span></a>
        </div>
    </div>

    <div class="category-section">
        <div class="category-title">âš™ï¸ Frota e MÃ¡quinas</div>
        <div class="grid-forms">
            <a href="/coleta/abastecimento" class="form-card border-maq"><div class="icon">â›½</div><span>Abastecimento</span></a>
            <a href="/coleta/manutencao-maq" class="form-card border-maq"><div class="icon">ğŸ› ï¸</div><span>ManutenÃ§Ã£o</span></a>
            <a href="/coleta/horas-maquina" class="form-card border-maq"><div class="icon">â±ï¸</div><span>Horas/KM</span></a>
        </div>
    </div>

    <div class="category-section">
        <div class="category-title">ğŸ“¦ Almoxarifado / Estoque</div>
        <div class="grid-forms">
            <a href="/coleta/estoque-diesel" class="form-card border-estq"><div class="icon">ğŸ›¢ï¸</div><span>Diesel / Ã“leo</span></a>
            <a href="/coleta/estoque-insumos" class="form-card border-estq"><div class="icon">ğŸ’Š</div><span>Filtros/PeÃ§as</span></a>
            <a href="/coleta/estoque-sementes" class="form-card border-estq"><div class="icon">ğŸ’</div><span>Sementes/Adubo</span></a>
            <a href="/coleta/chaves" class="form-card border-estq"><div class="icon">ğŸ”‘</div><span>Chaves/Ferramentas</span></a>
        </div>
    </div>

    <div style="height: 80px;"></div> <footer class="sync-footer">
        <a href="/" class="btn-nav">ğŸ  Menu</a>
        <a href="/ver_dados" class="btn-nav">ğŸ“Š Banco</a>
        <span id="pendentes-badge" style="background: red; color: white; padding: 2px 8px; border-radius: 10px; font-size: 12px; display: none;">0</span>
    </footer>

    <script>
        // Detector de ConexÃ£o
        function checkConnection() {
            const dot = document.querySelector('.dot');
            const text = document.getElementById('status-text');
            if (navigator.onLine) {
                dot.className = "dot online-dot";
                text.innerText = "Online";
            } else {
                dot.className = "dot offline-dot";
                text.innerText = "Offline (Campo)";
            }
        }
        window.addEventListener('online', checkConnection);
        window.addEventListener('offline', checkConnection);
        checkConnection();

        // Service Worker para PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js');
        }
    </script>
</body>
</html>